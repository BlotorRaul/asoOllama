# Dockerfile pentru MCP Server
FROM python:3.11-slim

# Setam directorul de lucru
WORKDIR /app

# Instalam dependentele sistem (inclusiv curl pentru healthcheck)
RUN apt-get update && apt-get install -y \
    curl \
    && rm -rf /var/lib/apt/lists/*

# Copiem requirements.txt si instalam dependentele Python
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copiem codul serverului MCP
COPY gggg/server.py /app/server.py

# Creeaza directorul pentru date (va fi montat ca volume in docker-compose.yml)
RUN mkdir -p /app/data

# Variabile de mediu
ENV MCP_PORT=8001
ENV MCP_HOST=0.0.0.0
ENV MCP_BASE_DIR=/app/data

# Expunem portul
EXPOSE 8001

# Comanda de pornire
CMD ["python", "server.py"]

